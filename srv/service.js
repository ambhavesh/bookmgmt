// Written by bhavesh tiwari

const cds = require('@sap/cds')
const axios = require('axios');
module.exports = (srv => {
    srv.on("sendJWT", async (req) => {
        console.log(req.headers);
        let auth = req.headers.authorization;
        auth = "Bearer eyJhbGciOiJSUzI1NiIsImprdSI6Imh0dHBzOi8vYnQtZGV2LWFwOWNlaXIxLmF1dGhlbnRpY2F0aW9uLnVzMTAuaGFuYS5vbmRlbWFuZC5jb20vdG9rZW5fa2V5cyIsImtpZCI6ImRlZmF1bHQtand0LWtleS00MmM0OWQ1ZmNjIiwidHlwIjoiSldUIiwiamlkIjogIjlCNEFmZzVadFVLS1hhbFpGekh4Q1ZIRERnN3V4M0llUE5hRTcxbE4xZVk9In0.eyJqdGkiOiJiODMwMTE0NzRiYzU0NGM4YjJmY2FhMzlhYTZkYTg5NiIsImV4dF9hdHRyIjp7ImVuaGFuY2VyIjoiWFNVQUEiLCJzdWJhY2NvdW50aWQiOiJkMWJhZTY5Zi00YjY0LTRhNGEtYTAyMi0yNmI4YWJmODI3YzciLCJ6ZG4iOiJidC1kZXYtYXA5Y2VpcjEifSwieHMuc3lzdGVtLmF0dHJpYnV0ZXMiOnsieHMucm9sZWNvbGxlY3Rpb25zIjpbIlJDLVpNQU5BR0VQUk9KRUNUIiwiUkMtWkJPT0tTSE9QIiwiU3ViYWNjb3VudCBBZG1pbmlzdHJhdG9yIiwiTGF1bmNocGFkX0FkbWluIl19LCJnaXZlbl9uYW1lIjoiQmhhdmVzaCIsInhzLnVzZXIuYXR0cmlidXRlcyI6e30sImZhbWlseV9uYW1lIjoiVGl3YXJpIiwic3ViIjoiODg1MjRmY2EtNzhkMC00ODQxLWFkNDAtNmIyM2U3ZTYwNDMwIiwic2NvcGUiOlsiemJvb2tzaG9wLTczMmFkM2U1dHJpYWxfYnQtZGV2LWFwOWNlaXIxLURFViF0MjIzNTE2LkFkbWluIiwib3BlbmlkIiwidWFhLnVzZXIiXSwiY2xpZW50X2lkIjoic2ItemJvb2tzaG9wLTczMmFkM2U1dHJpYWxfYnQtZGV2LWFwOWNlaXIxLURFViF0MjIzNTE2IiwiY2lkIjoic2ItemJvb2tzaG9wLTczMmFkM2U1dHJpYWxfYnQtZGV2LWFwOWNlaXIxLURFViF0MjIzNTE2IiwiYXpwIjoic2ItemJvb2tzaG9wLTczMmFkM2U1dHJpYWxfYnQtZGV2LWFwOWNlaXIxLURFViF0MjIzNTE2IiwiZ3JhbnRfdHlwZSI6InBhc3N3b3JkIiwidXNlcl9pZCI6Ijg4NTI0ZmNhLTc4ZDAtNDg0MS1hZDQwLTZiMjNlN2U2MDQzMCIsIm9yaWdpbiI6InNhcC5kZWZhdWx0IiwidXNlcl9uYW1lIjoidGl3YXJpYmhhdmVzaDQ1QGdtYWlsLmNvbSIsImVtYWlsIjoidGl3YXJpYmhhdmVzaDQ1QGdtYWlsLmNvbSIsImF1dGhfdGltZSI6MTcwMjYzOTA2OSwicmV2X3NpZyI6IjNlNDYyMmIwIiwiaWF0IjoxNzAyNjM5MDY5LCJleHAiOjE3MDI2ODIyNjksImlzcyI6Imh0dHBzOi8vYnQtZGV2LWFwOWNlaXIxLmF1dGhlbnRpY2F0aW9uLnVzMTAuaGFuYS5vbmRlbWFuZC5jb20vb2F1dGgvdG9rZW4iLCJ6aWQiOiJkMWJhZTY5Zi00YjY0LTRhNGEtYTAyMi0yNmI4YWJmODI3YzciLCJhdWQiOlsidWFhIiwiemJvb2tzaG9wLTczMmFkM2U1dHJpYWxfYnQtZGV2LWFwOWNlaXIxLURFViF0MjIzNTE2Iiwib3BlbmlkIiwic2ItemJvb2tzaG9wLTczMmFkM2U1dHJpYWxfYnQtZGV2LWFwOWNlaXIxLURFViF0MjIzNTE2Il19.LyO2L45C_Q278y1f38E0GxtRhAZi6H2tDdxlf0mchDgtwg-PwJxOpYIOkhHs_lUz7OInnPmfo0BloCrhYaz_YYY24BAkZyK1gaaENCc0aa1VT-3kBkuFefhj9GIunR5lLK5IIEgBSIBoc5xE_b2__7QK4VEdoTz9JWFibE_17LVI4gGZ7eyJGIO_GzJcVGvbtyyk4GS-bRHLTTlXK8kT_OpS6qM1mn-qwn8LXxxV357Yn-drl9OczIK0n9xZka1qjXcijKepQ9SIl448D84_KiH7me_lN9DKXiXB052JI1fKfoqlq4W-M_Vl3EMB0_cNPO32gWH5bV13f5AMyLTqIQ";
        // return sToken;
    });
});
